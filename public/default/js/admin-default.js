window.columnFilters={},window.columnFilters.range=function(e,t){var a=$(e),n=a.find("input"),i=n.filter(":first"),o=n.filter(":last"),c=a.closest("td").data("index");i.data("ajax-data-name","from"),o.data("ajax-data-name","to"),$.fn.dataTable.ext.search.push(function(e,a,n){if(t.settings()[0].sTableId!=e.sTableId)return!0;var l=t.data()[n][c];l&&void 0!==l["@data-order"]&&(l=l["@data-order"]);var s=i.val(),r=o.val();return i.closest(".input-date").length>0&&o.closest(".input-date").length>0?(s=""!=s?i.closest(".input-date").data("DateTimePicker").date():Number.NEGATIVE_INFINITY,r=""!=r?o.closest(".input-date").data("DateTimePicker").date():Number.POSITIVE_INFINITY,l=moment(l)):(l=parseInt(l),s=""!=s?parseInt(s):Number.NEGATIVE_INFINITY,r=""!=r?parseInt(r):Number.POSITIVE_INFINITY),l>=s&&r>=l}),n.on("keyup change",function(){t.draw()})},window.columnFilters.select=function(e,t){var a=$(e),n=a.closest("td").data("index");a.on("change",function(){t.column(n).search(a.val()).draw()})},window.columnFilters.text=function(e,t){var a=$(e),n=a.closest("td").data("index");a.on("keyup change",function(){t.column(n).search(a.val()).draw()})},$(function(){$(".adminCheckboxRow").on("change",function(e){var t=$(this),a=t.closest("tr");t.is(":checked")?a.addClass("info"):a.removeClass("info")}),$(".adminCheckboxAll").on("change",function(){var e=$(this),t=$(".adminCheckboxRow");e.is(":checked")?t.not(":checked").each(function(e,t){this.checked=!0,$(this).trigger("change")}):t.filter(":checked").each(function(e,t){this.checked=!1,$(this).trigger("change")})})}),$(function(){$(document).delegate(".btn-delete","click",function(e){e.preventDefault();var t=$(this).closest("form");bootbox.confirm(window.Admin.Settings.lang.table["delete-confirm"],function(e){e&&t.submit()})}),bootbox.setDefaults("locale",window.Admin.Settings.locale)}),$(function(){$(document).delegate('*[data-toggle="lightbox"]',"click",function(e){e.preventDefault(),$(this).ekkoLightbox({always_show_close:!1})})}),$(function(){$(".input-date").each(function(){var e=$(this);e.datetimepicker({locale:window.Admin.Settings.locale}).trigger("dp.change").on("dp.change",function(){e.change()})})}),$(function(){$(".input-select").select2()}),$(function(){$(".imageUpload").each(function(e,t){var a=$(t),n=a.closest(".form-group"),i=a.find(".errors"),o=a.find(".no-value"),c=a.find(".has-value"),l=a.find(".thumbnail img.has-value"),s=a.find(".imageValue"),r=new Flow({target:a.data("target"),testChunks:!1,chunkSize:1073741824,query:{_token:a.data("token")}});r.assignBrowse(a.find(".imageBrowse"),!1,!0),r.on("filesSubmitted",function(e){r.upload()}),r.on("fileSuccess",function(e,t){r.removeFile(e),i.html(""),n.removeClass("has-error");var a=$.parseJSON(t);l.attr("src",a.url),c.find("span").text(a.value),s.val(a.value),o.addClass("hidden"),c.removeClass("hidden")}),r.on("fileError",function(e,t){r.removeFile(e);var a=$.parseJSON(t),o="";$.each(a,function(e,t){o+='<p class="help-block">'+t+"</p>"}),i.html(o),n.addClass("has-error")}),a.find(".imageRemove").click(function(){s.val(""),o.removeClass("hidden"),c.addClass("hidden")})})}),$(function(){$(".imageUploadMultiple").each(function(e,t){var a=$(t),n=a.closest(".form-group"),i=a.find(".form-group"),o=a.find(".errors"),c=a.find(".imageValue"),l=new Flow({target:a.data("target"),testChunks:!1,chunkSize:1073741824,query:{_token:a.data("token")}}),s=function(){var e=[];a.find("img[data-value]").each(function(){e.push($(this).data("value"))}),c.val(e.join(","))};l.assignBrowse(a.find(".imageBrowse")),l.on("filesSubmitted",function(e){l.upload()}),l.on("fileSuccess",function(e,t){l.removeFile(e),o.html(""),n.removeClass("has-error");var a=$.parseJSON(t);i.append('<div class="col-xs-6 col-md-3 imageThumbnail"><div class="thumbnail"><img data-value="'+a.value+'" src="'+a.url+'" /><a href="#" class="imageRemove">Remove</a></div></div>'),s()}),l.on("fileError",function(e,t){l.removeFile(e);var a=$.parseJSON(t),i="";$.each(a,function(e,t){i+='<p class="help-block">'+t+"</p>"}),o.html(i),n.addClass("has-error")}),a.on("click",".imageRemove",function(e){e.preventDefault(),$(this).closest(".imageThumbnail").remove(),s()}),i.sortable({onUpdate:function(){s()}})})}),$(function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$('form[data-type="display-actions"]').on("submit",function(e){var t=$(this),a=$(e.target.action),n=$(".adminCheckboxRow").filter(":checked");n.length||e.preventDefault(),this.action=a.data("action"),this.method=a.data("method"),n.each(function(){t.append('<input type="hidden" name="id[]" value="'+$(this).val()+'" />')})}),$(".inline-editable").editable(),Admin.Components.init(),Admin.Controllers.call()});