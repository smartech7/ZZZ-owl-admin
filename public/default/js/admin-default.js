$(function(){$(".adminCheckboxRow").on("change",function(e){var n=$(this),t=n.closest("tr");n.is(":checked")?t.addClass("info"):t.removeClass("info")}),$(".adminCheckboxAll").on("change",function(){var e=$(this),n=$(".adminCheckboxRow");e.is(":checked")?n.not(":checked").each(function(e,n){this.checked=!0,$(this).trigger("change")}):n.filter(":checked").each(function(e,n){this.checked=!1,$(this).trigger("change")})})}),$(function(){$(document).delegate(".btn-delete","click",function(e){e.preventDefault();var n=$(this).closest("form");bootbox.confirm(window.Admin.Settings.lang.table["delete-confirm"],function(e){e&&n.submit()})}),bootbox.setDefaults("locale",window.Admin.Settings.locale)}),$(function(){$(document).delegate('*[data-toggle="lightbox"]',"click",function(e){e.preventDefault(),$(this).ekkoLightbox({always_show_close:!1})})}),$(function(){$(".input-date").each(function(){var e=$(this);e.datetimepicker({locale:window.Admin.Settings.locale}).trigger("dp.change").on("dp.change",function(){e.change()})})}),$(function(){$(".input-select").select2()}),$(function(){$(".imageUpload").each(function(e,n){var t=$(n),a=t.closest(".form-group"),i=t.find(".errors"),o=t.find(".no-value"),c=t.find(".has-value"),l=t.find(".thumbnail img.has-value"),s=t.find(".imageValue"),r=new Flow({target:t.data("target"),testChunks:!1,chunkSize:1073741824,query:{_token:t.data("token")}});r.assignBrowse(t.find(".imageBrowse"),!1,!0),r.on("filesSubmitted",function(e){r.upload()}),r.on("fileSuccess",function(e,n){r.removeFile(e),i.html(""),a.removeClass("has-error");var t=$.parseJSON(n);l.attr("src",t.url),c.find("span").text(t.value),s.val(t.value),o.addClass("hidden"),c.removeClass("hidden")}),r.on("fileError",function(e,n){r.removeFile(e);var t=$.parseJSON(n),o="";$.each(t,function(e,n){o+='<p class="help-block">'+n+"</p>"}),i.html(o),a.addClass("has-error")}),t.find(".imageRemove").click(function(){s.val(""),o.removeClass("hidden"),c.addClass("hidden")})})}),$(function(){$(".imageUploadMultiple").each(function(e,n){var t=$(n),a=t.closest(".form-group"),i=t.find(".form-group"),o=t.find(".errors"),c=t.find(".imageValue"),l=new Flow({target:t.data("target"),testChunks:!1,chunkSize:1073741824,query:{_token:t.data("token")}}),s=function(){var e=[];t.find("img[data-value]").each(function(){e.push($(this).data("value"))}),c.val(e.join(","))};l.assignBrowse(t.find(".imageBrowse")),l.on("filesSubmitted",function(e){l.upload()}),l.on("fileSuccess",function(e,n){l.removeFile(e),o.html(""),a.removeClass("has-error");var t=$.parseJSON(n);i.append('<div class="col-xs-6 col-md-3 imageThumbnail"><div class="thumbnail"><img data-value="'+t.value+'" src="'+t.url+'" /><a href="#" class="imageRemove">Remove</a></div></div>'),s()}),l.on("fileError",function(e,n){l.removeFile(e);var t=$.parseJSON(n),i="";$.each(t,function(e,n){i+='<p class="help-block">'+n+"</p>"}),o.html(i),a.addClass("has-error")}),t.on("click",".imageRemove",function(e){e.preventDefault(),$(this).closest(".imageThumbnail").remove(),s()}),i.sortable({onUpdate:function(){s()}})})}),$(function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$('form[data-type="display-actions"]').on("submit",function(e){var n=$(this),t=$(e.target.action),a=$(".adminCheckboxRow").filter(":checked");a.length||e.preventDefault(),this.action=t.data("action"),this.method=t.data("method"),a.each(function(){n.append('<input type="hidden" name="id[]" value="'+$(this).val()+'" />')})}),$(".inline-editable").editable(),Admin.Components.init(),Admin.Controllers.call()});