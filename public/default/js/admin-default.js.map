{"version":3,"sources":["base.js","range.js","select.js","text.js","checkbox.js","control.js","image.js","datetime.js","init.js","initMultiple.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ALTA;AACA;AACA;AMFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AD9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"admin-default.js","sourcesContent":["window.columnFilters = {};","window.columnFilters.range = function (container, table) {\r\n    var $container = $(container);\r\n    var $input = $container.find('input');\r\n    var from = $input.filter(':first');\r\n    var to = $input.filter(':last');\r\n    var index = $container.closest('td').data('index');\r\n\r\n    from.data('ajax-data-name', 'from');\r\n    to.data('ajax-data-name', 'to');\r\n\r\n    $.fn.dataTable.ext.search.push(function (settings, data, dataIndex) {\r\n        if (table.settings()[0].sTableId != settings.sTableId) {\r\n            return true;\r\n        }\r\n        var value = table.data()[dataIndex][index];\r\n        if (value && value['@data-order'] !== undefined) {\r\n            value = value['@data-order'];\r\n        }\r\n\r\n        var fromValue = from.val();\r\n        var toValue = to.val();\r\n        if ((from.closest('.input-date').length > 0) && (to.closest('.input-date').length > 0)) {\r\n            if (fromValue != '') {\r\n                fromValue = from.closest('.input-date').data('DateTimePicker').date();\r\n            } else {\r\n                fromValue = Number.NEGATIVE_INFINITY;\r\n            }\r\n            if (toValue != '') {\r\n                toValue = to.closest('.input-date').data('DateTimePicker').date();\r\n            } else {\r\n                toValue = Number.POSITIVE_INFINITY;\r\n            }\r\n\r\n            value = moment(value);\r\n        } else {\r\n            value = parseInt(value);\r\n            if (fromValue != '') {\r\n                fromValue = parseInt(fromValue);\r\n            } else {\r\n                fromValue = Number.NEGATIVE_INFINITY;\r\n            }\r\n            if (toValue != '') {\r\n                toValue = parseInt(toValue);\r\n            } else {\r\n                toValue = Number.POSITIVE_INFINITY;\r\n            }\r\n        }\r\n\r\n        return (value >= fromValue && value <= toValue);\r\n    });\r\n\r\n    $input.on('keyup change', function () {\r\n        table.draw();\r\n    });\r\n};","$(function () {\r\n    $('.input-select').select2();\r\n});","window.columnFilters.text = function (input, table) {\r\n    var $input = $(input);\r\n    var index = $input.closest('td').data('index');\r\n    $input.on('keyup change', function () {\r\n        table.column(index).search($input.val()).draw();\r\n    });\r\n};","$(function () {\r\n    $('.adminCheckboxRow').on('change', function(e) {\r\n        var $self = $(this),\r\n            $row = $self.closest('tr');\r\n\r\n        if($self.is(':checked')) {\r\n            $row.addClass('info');\r\n        } else {\r\n            $row.removeClass('info');\r\n        }\r\n    });\r\n\r\n    $('.adminCheckboxAll').on('change', function() {\r\n        var $self = $(this),\r\n            $checkboxes = $('.adminCheckboxRow');\r\n\r\n        if($self.is(':checked')) {\r\n            $checkboxes.not(':checked').each(function(i, a) {\r\n                this.checked = true;\r\n                $(this).trigger('change');\r\n            });\r\n        } else {\r\n            $checkboxes.filter(':checked').each(function(i, a) {\r\n                this.checked = false;\r\n                $(this).trigger('change');\r\n            });\r\n        }\r\n    });\r\n});","$(function () {\r\n    $(document).delegate('.btn-delete', 'click', function (e) {\r\n        e.preventDefault();\r\n        var form = $(this).closest('form');\r\n        bootbox.confirm(window.Admin.Settings.lang.table['delete-confirm'], function (result) {\r\n            if (result) {\r\n                form.submit();\r\n            }\r\n        });\r\n    });\r\n    bootbox.setDefaults('locale', window.Admin.Settings.locale);\r\n});","$(function () {\r\n    $(document).delegate('*[data-toggle=\"lightbox\"]', 'click', function (e) {\r\n        e.preventDefault();\r\n        $(this).ekkoLightbox({\r\n            always_show_close: false\r\n        });\r\n    });\r\n});","$(function () {\r\n    $('.input-date').each(function () {\r\n        var $self = $(this);\r\n        $self.datetimepicker({\r\n            locale: window.Admin.Settings.locale\r\n        }).trigger('dp.change').on('dp.change', function () {\r\n            $self.change();\r\n        });\r\n    });\r\n});","$(function () {\r\n    $.ajaxSetup({\r\n        headers: {\r\n            'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n        }\r\n    });\r\n\r\n    $('form[data-type=\"display-actions\"]').on('submit', function(e) {\r\n        var $form = $(this),\r\n            $btn = $(e.target.action),\r\n            $checkboxes = $('.adminCheckboxRow').filter(':checked');\r\n\r\n        if (!$checkboxes.length) {\r\n            e.preventDefault();\r\n        }\r\n\r\n        this.action = $btn.data('action');\r\n        this.method = $btn.data('method');\r\n\r\n        $checkboxes.each(function () {\r\n            $form.append('<input type=\"hidden\" name=\"id[]\" value=\"' + $(this).val() + '\" />');\r\n        });\r\n    });\r\n\r\n    $('.inline-editable').editable();\r\n\r\n    Admin.Components.init();\r\n    Admin.Controllers.call();\r\n});","$(function () {\r\n    $('.imageUploadMultiple').each(function (index, item) {\r\n        var $item = $(item);\r\n        var $group = $item.closest('.form-group');\r\n        var $innerGroup = $item.find('.form-group');\r\n        var $errors = $item.find('.errors');\r\n        var $input = $item.find('.imageValue');\r\n        var flow = new Flow({\r\n            target: $item.data('target'),\r\n            testChunks: false,\r\n            chunkSize: 1024 * 1024 * 1024,\r\n            query: {\r\n                _token: $item.data('token')\r\n            }\r\n        });\r\n        var updateValue = function () {\r\n            var values = [];\r\n            $item.find('img[data-value]').each(function () {\r\n                values.push($(this).data('value'));\r\n            });\r\n            $input.val(values.join(','));\r\n        };\r\n        flow.assignBrowse($item.find('.imageBrowse'));\r\n        flow.on('filesSubmitted', function (file) {\r\n            flow.upload();\r\n        });\r\n        flow.on('fileSuccess', function (file, message) {\r\n            flow.removeFile(file);\r\n\r\n            $errors.html('');\r\n            $group.removeClass('has-error');\r\n\r\n            var result = $.parseJSON(message);\r\n\r\n            $innerGroup.append('<div class=\"col-xs-6 col-md-3 imageThumbnail\"><div class=\"thumbnail\">' +\r\n                '<img data-value=\"' + result.value + '\" src=\"' + result.url + '\" />' +\r\n                '<a href=\"#\" class=\"imageRemove\">Remove</a></div></div>');\r\n            updateValue();\r\n        });\r\n        flow.on('fileError', function (file, message) {\r\n            flow.removeFile(file);\r\n\r\n            var response = $.parseJSON(message);\r\n            var errors = '';\r\n            $.each(response, function (index, error) {\r\n                errors += '<p class=\"help-block\">' + error + '</p>'\r\n            });\r\n            $errors.html(errors);\r\n            $group.addClass('has-error');\r\n        });\r\n        $item.on('click', '.imageRemove', function (e) {\r\n            e.preventDefault();\r\n            $(this).closest('.imageThumbnail').remove();\r\n            updateValue();\r\n        });\r\n\r\n        $innerGroup.sortable({\r\n            onUpdate: function () {\r\n                updateValue();\r\n            }\r\n        });\r\n    });\r\n});"],"sourceRoot":"/source/"}